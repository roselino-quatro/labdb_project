{% extends 'base.html' %}
{% set hide_sidebar = True %}
{% set hide_navbar = True %}
{% set hide_footer = True %}
{% set main_class = 'flex min-h-screen items-center justify-center bg-gradient-to-br from-uspprimary to-uspsecondary p-6' %}
{% block title %}Login | CEFER{% endblock %}

{% block content %}
<div class="w-full max-w-md rounded-lg bg-white p-8 shadow-xl">
    <div class="mb-6 text-center">
        <span class="inline-flex h-12 w-12 items-center justify-center rounded-full bg-uspprimary text-xl font-bold text-white">CE</span>
        <h1 class="mt-4 text-2xl font-bold text-gray-900">Access the CEFER Data Hub</h1>
        <p class="mt-2 text-sm text-gray-500">Authentication is fully managed inside SQL assets.</p>
    </div>
    <form method="post" action="{{ url_for('auth.login') }}" class="space-y-4">
        <input type="hidden" name="next" value="{{ request.args.get('next', '') }}" />
        <div>
            <label for="login_identifier" class="mb-1 block text-sm font-medium text-gray-700">Email or CPF</label>
            <input id="login_identifier"
                   name="login_identifier"
                   type="text"
                   value="{{ form_data.login_identifier if form_data else '' }}"
                   required
                   class="w-full rounded border border-gray-300 px-4 py-2 text-sm shadow-sm focus:border-uspprimary focus:outline-none focus:ring-1 focus:ring-uspprimary"
                   placeholder="name.surname@usp.br or 00000000000" />
        </div>
        <div>
            <label for="password" class="mb-1 block text-sm font-medium text-gray-700">Password</label>
            <input id="password"
                   name="password"
                   type="password"
                   required
                   class="w-full rounded border border-gray-300 px-4 py-2 text-sm shadow-sm focus:border-uspprimary focus:outline-none focus:ring-1 focus:ring-uspprimary"
                   placeholder="Enter your password" />
        </div>
        <div class="flex items-center justify-between text-sm">
            <label class="flex items-center space-x-2">
                <input type="checkbox" name="remember" class="h-4 w-4 rounded border-gray-300 text-uspprimary focus:ring-uspprimary" />
                <span>Remember this device</span>
            </label>
            <a href="#" class="text-uspprimary hover:text-uspyellow">Need help?</a>
        </div>
        <button type="submit" class="w-full rounded bg-uspprimary px-4 py-2 text-sm font-semibold text-white transition hover:bg-uspsecondary hover:text-uspprimary">
            Sign in
        </button>
    </form>
    <div class="mt-6 space-y-4 rounded-lg bg-gray-50 p-4 text-sm text-gray-600">
        <div>
            <h2 class="mb-2 font-semibold text-gray-800">Available roles</h2>
            <ul class="space-y-1">
                <li><span class="font-semibold text-gray-900">Admin:</span> full platform management.</li>
                <li><span class="font-semibold text-gray-900">Staff:</span> activity scheduling and equipment control.</li>
                <li><span class="font-semibold text-gray-900">Internal USP:</span> reservations and participation requests.</li>
                <li><span class="font-semibold text-gray-900">External:</span> invitation-based attendance.</li>
            </ul>
        </div>
        <div class="rounded border border-dashed border-gray-300 p-3 text-center">
            <p class="text-gray-700">Need an account? <a href="{{ url_for('auth.register') }}" class="font-semibold text-uspprimary hover:text-uspyellow">Request access</a>.</p>
        </div>
    </div>
</div>
{% endblock %}
